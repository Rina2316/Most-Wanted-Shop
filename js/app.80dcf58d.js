(()=>{"use strict";var t={9452:(t,n,e)=>{e(3792),e(3362),e(9085),e(9391);var r=e(3751),o=e(641),a={id:"app"};function u(t,n,e,r,u,c){var l=(0,o.g2)("router-view"),i=(0,o.g2)("ModalsContainer");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(l),(0,o.bF)(i)])}var c=e(1191);const l=(0,o.pM)({name:"App",components:{ModalsContainer:c.cE}});var i=e(6262);const s=(0,i.A)(l,[["render",u]]),p=s;var d=e(5220);const v=e.p+"img/content.830e20d1.png",m=e.p+"img/content-overlay.7a744687.png";var f={class:"wrapper"},k={class:"products"},L={key:0,class:"loader"},h={key:1,class:"error-message"};function g(t,n,e,r,a,u){var c=(0,o.g2)("Header"),l=(0,o.g2)("Product"),i=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",f,[(0,o.bF)(c),n[0]||(n[0]=(0,o.Lk)("section",{class:"main"},[(0,o.Lk)("img",{class:"main__image",src:v,alt:"content"}),(0,o.Lk)("img",{class:"main__overlay",src:m,alt:"content overlay"})],-1)),n[1]||(n[1]=(0,o.Lk)("h2",{class:"section-title"},"Новинки",-1)),(0,o.Lk)("section",k,[t.loading?((0,o.uX)(),(0,o.CE)("div",L)):t.error?((0,o.uX)(),(0,o.CE)("p",h," Извините, произошла ошибка при загрузке товаров. Пожалуйста, попробуйте позже. ")):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.products,(function(t){return(0,o.uX)(),(0,o.Wv)(l,{key:t.id,product:t},null,8,["product"])})),128))]),(0,o.bF)(i)])}var _=e(4048),y=e(388),b=(e(6280),e(6918),e(6099),e(953)),C=(e(2010),e(33));const E=e.p+"img/shopping_cart.9914aca2.svg";var F={class:"header"},w={class:"header__links"},M={class:"header__img"},A={key:0,class:"count"};function X(t,n,e,r,a,u){var c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",F,[n[2]||(n[2]=(0,o.Lk)("h3",null,"Штуки",-1)),(0,o.Lk)("nav",w,[(0,o.bF)(c,{to:{name:"Main"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{class:(0,C.C4)({active:"Main"===t.$route.name})},"Главная",2)]})),_:1}),n[0]||(n[0]=(0,o.Lk)("a",null,"Магазин",-1))]),(0,o.Lk)("div",M,[(0,o.bF)(c,{to:{name:"ProductPage",params:{id:1}}},{default:(0,o.k6)((function(){return n[1]||(n[1]=[(0,o.Lk)("img",{src:E,alt:"shopping cart"},null,-1)])})),_:1}),t.cartStore.totalQuantity>0?((0,o.uX)(),(0,o.CE)("div",A,(0,C.v_)(t.cartStore.totalQuantity),1)):(0,o.Q3)("",!0)])])}var x=e(9201),S=(e(2008),e(113),e(4114),e(2712),e(810)),O=(0,S.nY)("cart",{state:function(){return{items:[]}},getters:{totalAmount:function(t){return t.items.reduce((function(t,n){return t+n.price*n.quantity}),0)},totalQuantity:function(t){return t.items.reduce((function(t,n){return t+n.quantity}),0)}},actions:{addToCart:function(t){var n=this.items.find((function(n){return n.id===t.id}));n?n.quantity+=1:this.items.push((0,x.A)((0,x.A)({},t),{},{quantity:1}))},removeFromCart:function(t){this.items=this.items.filter((function(n){return n.id!==t}))},clearCart:function(){this.items=[]}}});const H=(0,o.pM)({name:"Header",setup:function(){var t=O();return{cartStore:t}}}),P=(0,i.A)(H,[["render",X],["__scopeId","data-v-066a80c0"]]),I=P;var T={class:"footer"},j={class:"footer__links"};function q(t,n,e,r,a,u){var c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("footer",T,[n[1]||(n[1]=(0,o.Lk)("h3",null,"Штуки",-1)),(0,o.Lk)("nav",j,[(0,o.bF)(c,{to:{name:"Main"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{class:(0,C.C4)({active:"Main"===t.$route.name})},"Главная",2)]})),_:1}),n[0]||(n[0]=(0,o.Lk)("a",null,"Магазин",-1))]),n[2]||(n[2]=(0,o.Lk)("button",null,"Напиши нам",-1))])}const Q=(0,o.pM)({name:"Footer"}),K=(0,i.A)(Q,[["render",q],["__scopeId","data-v-7996cf70"]]),W=K;var R={class:"product"},V=["src"];function $(t,n,e,r,a,u){return(0,o.uX)(),(0,o.CE)("div",R,[(0,o.Lk)("img",{src:t.product.image,alt:"example image"},null,8,V),(0,o.Lk)("p",null,(0,C.v_)(t.product.title),1),(0,o.Lk)("button",{onClick:n[0]||(n[0]=function(){return t.open&&t.open.apply(t,arguments)})},"Купить")])}e(2675),e(9463);const z=e.p+"img/cross.385a3654.svg";var Y=e(8549),B={class:"modal__header"},D={class:"modal__body"},G=["src"],J={class:"modal__content"},N={class:"content__item"},U={class:"content__item"},Z={class:"content__item"},tt={class:"price"};const nt=(0,o.pM)({__name:"Modal",props:{title:{},product:{}},emits:["confirm"],setup:function(t,n){var e=n.emit,r=new Y.zT,a=t,u=O(),l=function(){u.addToCart(a.product),r.success("Товар добавлен в корзину!")},i=e;return function(t,n){return(0,o.uX)(),(0,o.Wv)((0,b.R1)(c.AM),{class:"confirm-modal","content-class":"confirm-modal-content","overlay-transition":"vfm-fade","content-transition":"vfm-fade"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",B,[(0,o.Lk)("h3",null,(0,C.v_)(t.product.title),1),(0,o.Lk)("img",{onClick:n[0]||(n[0]=function(t){return i("confirm")}),class:"cross",src:z,alt:"cross icon"})]),(0,o.Lk)("div",D,[(0,o.Lk)("img",{class:"image",src:t.product.image,alt:"product image"},null,8,G),(0,o.Lk)("div",J,[(0,o.Lk)("div",N,[n[1]||(n[1]=(0,o.Lk)("span",null,"Описание",-1)),(0,o.Lk)("p",null,(0,C.v_)(t.product.description),1)]),(0,o.Lk)("div",U,[n[2]||(n[2]=(0,o.Lk)("span",null,"Категория",-1)),(0,o.Lk)("p",null,(0,C.v_)(t.product.category),1)]),(0,o.Lk)("div",Z,[n[3]||(n[3]=(0,o.Lk)("span",null,"Рейтинг",-1)),(0,o.Lk)("p",null,(0,C.v_)(t.product.rating.rate),1)]),(0,o.Lk)("p",tt,(0,C.v_)(t.product.price)+" руб.",1),(0,o.Lk)("button",{onClick:l},"Купить")])])]})),_:1})}}}),et=nt,rt=et,ot=(0,o.pM)({name:"Product",props:{product:{type:Object,required:!0}},components:{ProductModal:rt},setup:function(t){var n=(0,c.hS)({component:rt,attrs:{title:"Hello World!",product:t.product,onConfirm:function(){r()}},slots:{default:"<p>The content of the modal</p>"}}),e=n.open,r=n.close;return{open:e}}}),at=(0,i.A)(ot,[["render",$],["__scopeId","data-v-b3666004"]]),ut=at,ct=(0,o.pM)({name:"HomeView",components:{Header:I,Product:ut,Footer:W},setup:function(){var t=(0,b.KR)([]),n=(0,b.KR)(!0),e=(0,b.KR)(!1),r=function(){var r=(0,y.A)((0,_.A)().mark((function r(){var o,a;return(0,_.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("https://fakestoreapi.com/products");case 3:if(o=r.sent,o.ok){r.next=6;break}throw new Error("Ошибка сети");case 6:return r.next=8,o.json();case 8:a=r.sent,t.value=a,n.value=!1,r.next=18;break;case 13:r.prev=13,r.t0=r["catch"](0),console.error("Ошибка при загрузке продуктов:",r.t0),e.value=!0,n.value=!1;case 18:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(){return r.apply(this,arguments)}}();return(0,o.sV)((function(){r()})),{products:t,loading:n,error:e}}}),lt=(0,i.A)(ct,[["render",g],["__scopeId","data-v-462813cc"]]),it=lt;e(9868);const st=e.p+"img/remove.bfe7c320.svg";var pt={class:"wrapper"},dt={key:0,class:"empty-cart"},vt={key:1,class:"info"},mt=["onClick"],ft={key:2,class:"buyAll"};function kt(t,n,e,r,a,u){var c=(0,o.g2)("Header"),l=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",pt,[(0,o.bF)(c),n[6]||(n[6]=(0,o.Lk)("h1",null,"Корзина",-1)),0===t.cartStore.items.length?((0,o.uX)(),(0,o.CE)("div",dt,n[1]||(n[1]=[(0,o.Lk)("p",null,"Ваша корзина пуста. Добавьте товары в корзину!",-1)]))):(0,o.Q3)("",!0),t.cartStore.items.length?((0,o.uX)(),(0,o.CE)("table",vt,[n[5]||(n[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Товар"),(0,o.Lk)("th",null,"Цена, руб"),(0,o.Lk)("th",null,"Кол-во"),(0,o.Lk)("th",null,"Сумма, руб"),(0,o.Lk)("th",null,"Удалить")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.cartStore.items,(function(n){return(0,o.uX)(),(0,o.CE)("tr",{key:n.id},[(0,o.Lk)("td",null,(0,C.v_)(n.title),1),(0,o.Lk)("td",null,(0,C.v_)(n.price),1),(0,o.Lk)("td",null,(0,C.v_)(n.quantity),1),(0,o.Lk)("td",null,(0,C.v_)((n.price*n.quantity).toFixed(2)),1),(0,o.Lk)("td",null,[(0,o.Lk)("img",{onClick:function(e){return t.removeItem(n.id)},src:st,alt:"remove icon"},null,8,mt)])])})),128)),(0,o.Lk)("tr",null,[n[2]||(n[2]=(0,o.Lk)("td",null,"Итог",-1)),n[3]||(n[3]=(0,o.Lk)("td",null,null,-1)),(0,o.Lk)("td",null,(0,C.v_)(t.cartStore.totalQuantity),1),(0,o.Lk)("td",null,(0,C.v_)(t.cartStore.totalAmount.toFixed(2)),1),n[4]||(n[4]=(0,o.Lk)("td",null,null,-1))])])])):(0,o.Q3)("",!0),t.cartStore.items.length?((0,o.uX)(),(0,o.CE)("button",ft,"Плачу за всё!")):((0,o.uX)(),(0,o.CE)("button",{key:3,class:"buyAll",onClick:n[0]||(n[0]=function(){return t.goToHome&&t.goToHome.apply(t,arguments)})},"Набрать товары")),(0,o.bF)(l)])}const Lt=(0,o.pM)({name:"HomeView",components:{Header:I,Footer:W},setup:function(){var t=O(),n=(0,d.rd)(),e=function(n){t.removeFromCart(n)},r=function(){n.push("/")};return{cartStore:t,removeItem:e,goToHome:r}}}),ht=(0,i.A)(Lt,[["render",kt],["__scopeId","data-v-23b26255"]]),gt=ht;var _t=[{path:"/",name:"Main",component:it},{path:"/product/:id",name:"ProductPage",component:gt,props:!0}],yt=(0,d.aE)({history:(0,d.LA)("/Most-Wanted-Shop/"),routes:_t});const bt=yt;var Ct=(0,c.q0)(),Et=(0,S.Ey)();(0,r.Ef)(p).use(bt).use(Ct).use(Et).mount("#app")}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return t[r].call(a.exports,a,a.exports,e),a.exports}e.m=t,(()=>{var t=[];e.O=(n,r,o,a)=>{if(!r){var u=1/0;for(s=0;s<t.length;s++){for(var[r,o,a]=t[s],c=!0,l=0;l<r.length;l++)(!1&a||u>=a)&&Object.keys(e.O).every((t=>e.O[t](r[l])))?r.splice(l--,1):(c=!1,a<u&&(u=a));if(c){t.splice(s--,1);var i=o();void 0!==i&&(n=i)}}return n}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[r,o,a]}})(),(()=>{e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}})(),(()=>{e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n)})(),(()=>{e.p="/Most-Wanted-Shop/"})(),(()=>{var t={524:0};e.O.j=n=>0===t[n];var n=(n,r)=>{var o,a,[u,c,l]=r,i=0;if(u.some((n=>0!==t[n]))){for(o in c)e.o(c,o)&&(e.m[o]=c[o]);if(l)var s=l(e)}for(n&&n(r);i<u.length;i++)a=u[i],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(s)},r=self["webpackChunkuser_profile_app"]=self["webpackChunkuser_profile_app"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var r=e.O(void 0,[504],(()=>e(9452)));r=e.O(r)})();
//# sourceMappingURL=app.80dcf58d.js.map