(()=>{"use strict";var t={5896:(t,n,e)=>{e(3792),e(3362),e(9085),e(9391);var r=e(3751),o=e(641),a={id:"app"};function u(t,n,e,r,u,c){var l=(0,o.g2)("router-view"),i=(0,o.g2)("ModalsContainer");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(l),(0,o.bF)(i)])}var c=e(1191);const l=(0,o.pM)({name:"App",components:{ModalsContainer:c.cE}});var i=e(6262);const s=(0,i.A)(l,[["render",u]]),p=s;var d=e(5220);const v=e.p+"img/content.830e20d1.png",m=e.p+"img/content-overlay.7a744687.png";var k={class:"wrapper"},f={class:"products"},L={key:0,class:"empty-cart"},g={key:0,class:"loader"},h={key:1,class:"error-message"};function _(t,n,e,r,a,u){var c=(0,o.g2)("Header"),l=(0,o.g2)("Product"),i=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",k,[(0,o.bF)(c),n[0]||(n[0]=(0,o.Lk)("section",{class:"main"},[(0,o.Lk)("img",{class:"main__image",src:v,alt:"content"}),(0,o.Lk)("img",{class:"main__overlay",src:m,alt:"content overlay"})],-1)),n[1]||(n[1]=(0,o.Lk)("h2",{class:"section-title"},"Новинки",-1)),(0,o.Lk)("section",f,[t.loading||t.error?((0,o.uX)(),(0,o.CE)("div",L,[t.loading?((0,o.uX)(),(0,o.CE)("div",g)):t.error?((0,o.uX)(),(0,o.CE)("p",h," Извините, произошла ошибка при загрузке товаров. Пожалуйста, попробуйте позже. ")):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.products,(function(t){return(0,o.uX)(),(0,o.Wv)(l,{key:t.id,product:t},null,8,["product"])})),128))]),(0,o.bF)(i)])}var y=e(4048),b=e(388),C=(e(6280),e(6918),e(6099),e(953)),E=(e(2010),e(33));const F=e.p+"img/shopping_cart.9914aca2.svg";var w={class:"header"},M={class:"header__links"},X={class:"header__img"},A={key:0,class:"count"};function x(t,n,e,r,a,u){var c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",w,[n[2]||(n[2]=(0,o.Lk)("h3",null,"Штуки",-1)),(0,o.Lk)("nav",M,[(0,o.bF)(c,{to:{name:"Main"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{class:(0,E.C4)({active:"Main"===t.$route.name})},"Главная",2)]})),_:1}),n[0]||(n[0]=(0,o.Lk)("a",null,"Магазин",-1))]),(0,o.Lk)("div",X,[(0,o.bF)(c,{to:{name:"ProductPage",params:{id:1}}},{default:(0,o.k6)((function(){return n[1]||(n[1]=[(0,o.Lk)("img",{src:F,alt:"shopping cart"},null,-1)])})),_:1}),t.cartStore.totalQuantity>0?((0,o.uX)(),(0,o.CE)("div",A,(0,E.v_)(t.cartStore.totalQuantity),1)):(0,o.Q3)("",!0)])])}var S=e(9201),O=(e(2008),e(113),e(4114),e(2712),e(810)),H=(0,O.nY)("cart",{state:function(){return{items:[]}},getters:{totalAmount:function(t){return t.items.reduce((function(t,n){return t+n.price*n.quantity}),0)},totalQuantity:function(t){return t.items.reduce((function(t,n){return t+n.quantity}),0)}},actions:{addToCart:function(t){var n=this.items.find((function(n){return n.id===t.id}));n?n.quantity+=1:this.items.push((0,S.A)((0,S.A)({},t),{},{quantity:1}))},removeFromCart:function(t){this.items=this.items.filter((function(n){return n.id!==t}))},clearCart:function(){this.items=[]}}});const P=(0,o.pM)({name:"Header",setup:function(){var t=H();return{cartStore:t}}}),I=(0,i.A)(P,[["render",x],["__scopeId","data-v-066a80c0"]]),Q=I;var T={class:"footer"},j={class:"footer__links"};function q(t,n,e,r,a,u){var c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("footer",T,[n[1]||(n[1]=(0,o.Lk)("h3",null,"Штуки",-1)),(0,o.Lk)("nav",j,[(0,o.bF)(c,{to:{name:"Main"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("a",{class:(0,E.C4)({active:"Main"===t.$route.name})},"Главная",2)]})),_:1}),n[0]||(n[0]=(0,o.Lk)("a",null,"Магазин",-1))]),n[2]||(n[2]=(0,o.Lk)("button",null,"Напиши нам",-1))])}const K=(0,o.pM)({name:"Footer"}),W=(0,i.A)(K,[["render",q],["__scopeId","data-v-7996cf70"]]),R=W;var V={class:"product"},$=["src"];function z(t,n,e,r,a,u){return(0,o.uX)(),(0,o.CE)("div",V,[(0,o.Lk)("img",{src:t.product.image,alt:"example image"},null,8,$),(0,o.Lk)("p",null,(0,E.v_)(t.product.title),1),(0,o.Lk)("button",{onClick:n[0]||(n[0]=function(){return t.open&&t.open.apply(t,arguments)})},"Купить")])}e(2675),e(9463);const Y=e.p+"img/cross.385a3654.svg";var B=e(8549),D={class:"modal__header"},G={class:"modal__body"},J=["src"],N={class:"modal__content"},U={class:"content__item"},Z={class:"content__item"},tt={class:"content__item"},nt={class:"price"};const et=(0,o.pM)({__name:"Modal",props:{title:{},product:{}},emits:["confirm"],setup:function(t,n){var e=n.emit,r=new B.zT,a=t,u=H(),l=function(){u.addToCart(a.product),r.success("Товар добавлен в корзину!")},i=e;return function(t,n){return(0,o.uX)(),(0,o.Wv)((0,C.R1)(c.AM),{class:"confirm-modal","content-class":"confirm-modal-content","overlay-transition":"vfm-fade","content-transition":"vfm-fade"},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",D,[(0,o.Lk)("h3",null,(0,E.v_)(t.product.title),1),(0,o.Lk)("img",{onClick:n[0]||(n[0]=function(t){return i("confirm")}),class:"cross",src:Y,alt:"cross icon"})]),(0,o.Lk)("div",G,[(0,o.Lk)("img",{class:"image",src:t.product.image,alt:"product image"},null,8,J),(0,o.Lk)("div",N,[(0,o.Lk)("div",U,[n[1]||(n[1]=(0,o.Lk)("span",null,"Описание",-1)),(0,o.Lk)("p",null,(0,E.v_)(t.product.description),1)]),(0,o.Lk)("div",Z,[n[2]||(n[2]=(0,o.Lk)("span",null,"Категория",-1)),(0,o.Lk)("p",null,(0,E.v_)(t.product.category),1)]),(0,o.Lk)("div",tt,[n[3]||(n[3]=(0,o.Lk)("span",null,"Рейтинг",-1)),(0,o.Lk)("p",null,(0,E.v_)(t.product.rating.rate),1)]),(0,o.Lk)("p",nt,(0,E.v_)(t.product.price)+" руб.",1),(0,o.Lk)("button",{onClick:l},"Купить")])])]})),_:1})}}}),rt=et,ot=rt,at=(0,o.pM)({name:"Product",props:{product:{type:Object,required:!0}},components:{ProductModal:ot},setup:function(t){var n=(0,c.hS)({component:ot,attrs:{title:"Hello World!",product:t.product,onConfirm:function(){r()}},slots:{default:"<p>The content of the modal</p>"}}),e=n.open,r=n.close;return{open:e}}}),ut=(0,i.A)(at,[["render",z],["__scopeId","data-v-b3666004"]]),ct=ut,lt=(0,o.pM)({name:"HomeView",components:{Header:Q,Product:ct,Footer:R},setup:function(){var t=(0,C.KR)([]),n=(0,C.KR)(!0),e=(0,C.KR)(!1),r=function(){var r=(0,b.A)((0,y.A)().mark((function r(){var o,a;return(0,y.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("https://fakestoreapi.com/products");case 3:if(o=r.sent,o.ok){r.next=6;break}throw new Error("Ошибка сети");case 6:return r.next=8,o.json();case 8:a=r.sent,t.value=a,n.value=!1,r.next=18;break;case 13:r.prev=13,r.t0=r["catch"](0),console.error("Ошибка при загрузке продуктов:",r.t0),e.value=!0,n.value=!1;case 18:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(){return r.apply(this,arguments)}}();return(0,o.sV)((function(){r()})),{products:t,loading:n,error:e}}}),it=(0,i.A)(lt,[["render",_],["__scopeId","data-v-48c1b136"]]),st=it;e(9868);const pt=e.p+"img/remove.bfe7c320.svg";var dt={class:"wrapper"},vt={key:0,class:"empty-cart"},mt={key:1,class:"info"},kt=["onClick"],ft={key:2,class:"buyAll"};function Lt(t,n,e,r,a,u){var c=(0,o.g2)("Header"),l=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",dt,[(0,o.bF)(c),n[6]||(n[6]=(0,o.Lk)("h1",null,"Корзина",-1)),0===t.cartStore.items.length?((0,o.uX)(),(0,o.CE)("div",vt,n[1]||(n[1]=[(0,o.Lk)("p",null,"Ваша корзина пуста. Добавьте товары в корзину!",-1)]))):(0,o.Q3)("",!0),t.cartStore.items.length?((0,o.uX)(),(0,o.CE)("table",mt,[n[5]||(n[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Товар"),(0,o.Lk)("th",null,"Цена, руб"),(0,o.Lk)("th",null,"Кол-во"),(0,o.Lk)("th",null,"Сумма, руб"),(0,o.Lk)("th",null,"Удалить")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.cartStore.items,(function(n){return(0,o.uX)(),(0,o.CE)("tr",{key:n.id},[(0,o.Lk)("td",null,(0,E.v_)(n.title),1),(0,o.Lk)("td",null,(0,E.v_)(n.price),1),(0,o.Lk)("td",null,(0,E.v_)(n.quantity),1),(0,o.Lk)("td",null,(0,E.v_)((n.price*n.quantity).toFixed(2)),1),(0,o.Lk)("td",null,[(0,o.Lk)("img",{onClick:function(e){return t.removeItem(n.id)},src:pt,alt:"remove icon"},null,8,kt)])])})),128)),(0,o.Lk)("tr",null,[n[2]||(n[2]=(0,o.Lk)("td",null,"Итог",-1)),n[3]||(n[3]=(0,o.Lk)("td",null,null,-1)),(0,o.Lk)("td",null,(0,E.v_)(t.cartStore.totalQuantity),1),(0,o.Lk)("td",null,(0,E.v_)(t.cartStore.totalAmount.toFixed(2)),1),n[4]||(n[4]=(0,o.Lk)("td",null,null,-1))])])])):(0,o.Q3)("",!0),t.cartStore.items.length?((0,o.uX)(),(0,o.CE)("button",ft,"Плачу за всё!")):((0,o.uX)(),(0,o.CE)("button",{key:3,class:"buyAll",onClick:n[0]||(n[0]=function(){return t.goToHome&&t.goToHome.apply(t,arguments)})},"Набрать товары")),(0,o.bF)(l)])}const gt=(0,o.pM)({name:"HomeView",components:{Header:Q,Footer:R},setup:function(){var t=H(),n=(0,d.rd)(),e=function(n){t.removeFromCart(n)},r=function(){n.push("/")};return{cartStore:t,removeItem:e,goToHome:r}}}),ht=(0,i.A)(gt,[["render",Lt],["__scopeId","data-v-23b26255"]]),_t=ht;var yt=[{path:"/",name:"Main",component:st},{path:"/product/:id",name:"ProductPage",component:_t,props:!0}],bt=(0,d.aE)({history:(0,d.LA)("/Most-Wanted-Shop/"),routes:yt});const Ct=bt;var Et=(0,c.q0)(),Ft=(0,O.Ey)();(0,r.Ef)(p).use(Ct).use(Et).use(Ft).mount("#app")}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return t[r].call(a.exports,a,a.exports,e),a.exports}e.m=t,(()=>{var t=[];e.O=(n,r,o,a)=>{if(!r){var u=1/0;for(s=0;s<t.length;s++){for(var[r,o,a]=t[s],c=!0,l=0;l<r.length;l++)(!1&a||u>=a)&&Object.keys(e.O).every((t=>e.O[t](r[l])))?r.splice(l--,1):(c=!1,a<u&&(u=a));if(c){t.splice(s--,1);var i=o();void 0!==i&&(n=i)}}return n}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[r,o,a]}})(),(()=>{e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}})(),(()=>{e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n)})(),(()=>{e.p="/Most-Wanted-Shop/"})(),(()=>{var t={524:0};e.O.j=n=>0===t[n];var n=(n,r)=>{var o,a,[u,c,l]=r,i=0;if(u.some((n=>0!==t[n]))){for(o in c)e.o(c,o)&&(e.m[o]=c[o]);if(l)var s=l(e)}for(n&&n(r);i<u.length;i++)a=u[i],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(s)},r=self["webpackChunkuser_profile_app"]=self["webpackChunkuser_profile_app"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var r=e.O(void 0,[504],(()=>e(5896)));r=e.O(r)})();
//# sourceMappingURL=app.c2fb087f.js.map